!function(e){"use strict";var t=sessionStorage;e.cache={save:function(e,n){t&&t.setItem("FACIL-ITI_"+e,n)},load:function(e){return t&&t.getItem("FACIL-ITI_"+e)}}}(FACIL_ITI),function(e,t,n){"use strict";n.compat={check:function(){var o=!0;return o=(o=(o=(o=(o=(o=o&&"function"==typeof n.compat.jsonParse)&&"function"==typeof n.compat.jsonStringify)&&"function"==typeof n.compat.addEvent)&&"function"==typeof e.postMessage)&&"function"==typeof t.querySelector)&&"function"==typeof t.querySelectorAll},selectAll:function(e){return t.querySelectorAll(e)},select:function(e){return t.querySelector(e)},jsonParse:function(e){return JSON&&JSON.parse?JSON.parse(e):JSON&&JSON.decode?JSON.decode(e):void 0},jsonStringify:function(e){var t=null,n="";return"object"==typeof Prototype&&"function"==typeof Array.prototype.toJSON&&(t=Array.prototype.toJSON,Array.prototype.toJSON=null),JSON&&JSON.stringify?n=JSON.stringify(e):JSON&&JSON.encode&&(n=JSON.encode(e)),"function"==typeof t&&(Array.prototype.toJSON=t),n},addEvent:function(t,n,o){return"function"==typeof e.addEventListener?(t.addEventListener(n,o,!1),!0):e.attachEvent?(t.attachEvent("on"+n,o),!0):void 0},setAttributesList:function(e,t){var n;for(n in t)e.setAttribute(n,t[n])}}}(window,document,FACIL_ITI),function(e,t){"use strict";var n=function(){var e,t,n,o=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)n=1&n?3988292384^n>>>1:n>>>1;o[e]=n}return function(e){var t,n=-1;for(t=0;t<e.length;t++)n=n>>>8^o[255&(n^e.charCodeAt(t))];return(-1^n)>>>0}}();function o(e){var t,n=[];if(e.href&&n.push(e.href),"cssRules"in e)try{for(t=0;t<e.cssRules.length;t++)e.cssRules[t]instanceof CSSImportRule&&e.cssRules[t].styleSheet&&(n=n.concat(o(e.cssRules[t].styleSheet)))}catch(e){}return n}t.handleCssHashList=function(r,i,a){var s,c,u,l,f,h,p,d=i||e,g=d.createElement("a"),m=[],y=function(e){var t,n=e.styleSheets,r=[];for(t=0;t<n.length;t++)r=r.concat(o(n[t]));return r.filter(function(e,t){return r.indexOf(e)===t})}(d),I=[],C=[],v={},S=a||function(e){return e.hash};for(m.push(t.params.domain),m=m.concat(t.params.aliases),s=0;s<y.length;s++)g.href=y[s],f=-1===m.indexOf(g.hostname)?y[s]:y[s].replace(g.origin,""),(c=t.cache.load(f))?"null"!==c&&C.push(c):-1===m.indexOf(g.hostname)?(v.name=g.pathname.replace(/^.*\/|\.[^.]*$/g,""),v.path=g.hostname+"/"+g.pathname.replace(/^\//,""),v.hash=v.name+"-"+n(v.path).toString(16)+"-0",-1===C.indexOf(v.hash)&&(C.push(S(v)),t.cache.save(f,v.hash))):-1===I.indexOf(y[s])&&I.push(y[s].replace(g.origin,""));if(0===I.length)r(C);else for(l=t.delayTrigger(I.length,r,[C]),u=function(e,o){var r={};g.href=e,r.path=t.params.domain+"/"+g.pathname.replace(/^\//,""),r.name=g.pathname.replace(/^.*\/|\.[^.]*$/g,""),r.hash=r.name+"-"+n(r.path).toString(16)+"-"+n(o).toString(16),r.content=o,C.push(S(r)),t.cache.save(e,r.hash)},p=function(e){return function(n){t.cache.save(e,"null")}},h=function(e){return function(t){u(e,t)}},s=0;s<I.length;s++)t.request(I[s],{},{onsuccess:h(I[s]),onfailure:p(I[s]),oncomplete:l})}}(document,FACIL_ITI),function(e){"use strict";e.delayTrigger=function(e,t,n){return function(){0==--e&&t.apply(null,n)}}}(FACIL_ITI),function(e,t){"use strict";var n=function(){var t,n;if(e.XMLHttpRequest)return new XMLHttpRequest;if(void 0!==e.ActiveXObject)for(t in n=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"])if(n.hasOwnProperty(t))try{return new ActiveXObject(n[t])}catch(e){}return null};t.request=function(e,t,o){var r,i=[],a=n();if(null!==a){if(o.onfailure&&"function"==typeof o.onfailure&&(a.onerror=o.onfailure),a.onreadystatechange=function(){4===a.readyState&&(200===a.status&&o.onsuccess&&"function"==typeof o.onsuccess?o.onsuccess(a.responseText):o.onfailure&&"function"==typeof o.onfailure&&o.onfailure(a.responseText),o.oncomplete&&"function"==typeof o.oncomplete&&o.oncomplete(a.status))},t&&t.length>0){for(r in t)t.hasOwnProperty(r)&&i.push(r+"="+encodeURIComponent(t[r]));e=e+"?"+i.join("&")}a.open("GET",e,!0),a.send()}}}(window,FACIL_ITI),function(e,t,n){"use strict";var o,r=n.compat.selectAll,i=n.compat.select,a=n.compat.jsonParse,s=n.compat.jsonStringify,c=n.compat.setAttributesList,u={},l={wsDomain:"https://ws.facil-iti.com",wsIntegration:"https://localhost:8050",userId:null,userConfig:null,language:null,domain:null,aliases:[]},f="blue",h="green";function p(){var e,n,o,a;if(!l.wsDomain)if(a=t.createElement("a"),n=i("#FACIL_ITI-script"))a.href=n.src,l.wsDomain=a.protocol+"//"+a.hostname;else for(o=r("script"),e=0;o.length;e++)if((n=o[e])&&-1!==n.src.indexOf("faciliti-tag.min.js")){a.href=n.src,l.wsDomain=a.protocol+"//"+a.hostname;break}return l.wsDomain}function d(){u.html=t.documentElement,u.head=t.head||i("head"),u.body=t.body}function g(e){var n,o=i("#FACIL_ITI-style");if(null!==o&&o.parentElement.removeChild(o),e){(n=t.createElement("style")).setAttribute("id","FACIL_ITI-style"),u.head.appendChild(n);try{n.innerHTML=e}catch(t){n.styleSheet.cssText=e}}}function m(e){if(e)for(var t=0;t<e.length;t++)if(RegExp(e[t],"gi").test(location.pathname))return!0;return!1}function y(e){var o,r,d,y,I,C;try{for(o in l.userConfig=a(e),n.reset)if(n.reset.hasOwnProperty(o)&&"extend"!==o&&l.cacheFunc.indexOf(o)>-1)try{n.reset[o]()}catch(e){}if(l.userConfig.url_blacklist&&(n.cache.save("url_blacklist",s(l.userConfig.url_blacklist)),m(l.userConfig.url_blacklist)))return!1;l.userConfig.stylesheets&&l.userConfig.stylesheets.length&&function(e){var n;e&&(console.log("FACILâ€™iti REFRESH "+h+" to "+f),e.forEach(function(e){var o=l.wsIntegration+e;(n=t.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("class","FACILITI-stylesheet "+f),n.setAttribute("href",o),u.head.appendChild(n)}),t.querySelectorAll("link.FACILITI-stylesheet."+h).forEach(function(e){e.remove()}),[f,h]=[h,f])}(l.userConfig.stylesheets),l.userConfig.features&&(u.html.dataset.faciliti=l.userConfig.features.join(" ")),l.cacheFunc=[],y=l.userConfig.js||[],d="",l.userConfig.css&&l.userConfig.css.forEach(function(e){(0===e.filters.length||function(e){var t,n=location.pathname+location.search;for(t=0;t<e.length;t++)if(new RegExp(e[t]).test(n))return!0;return!1}(e.filters))&&(d+=e.content)}),d=d.replace(/#FACIL_ITI_DOMAIN#/g,p()),n.cache.save("CSS",d),g(d),y.length&&((I=i("#FACIL_ITI-engine"))&&u.head.removeChild(I),r=t.createElement("script"),C={id:"FACIL_ITI-engine",crossorigin:"anonymous",src:p()+"/"+l.userConfig.engine},l.userConfig.engine_integrity&&(C.integrity=l.userConfig.engine_integrity),c(r,C),u.head.appendChild(r))}catch(e){}}function I(e){l.domain=e.domain,l.aliases=e.aliases}function C(e){n.params.language=e}function v(e){n.handleCssHashList(function(e){S({subject:"response-css-hashes",content:e})})}function S(e){o&&e.subject&&o.postMessage(s(e),p())}function A(e){var t,n;if(e.origin!==p())return!1;t={"configure-domain-aliases":I,"request-css-hashes":v,"configure-language":C,"run-engine":y},(n=a(e.data)).subject in t&&t[n.subject](n.content)}function O(){d(),n.cache.load("url_blacklist")&&m(a(n.cache.load("url_blacklist")))?g(null):g(n.cache.load("CSS"));var r=function(){var r,a,s;if(d(),n.data)for(r=0;r<n.data.length;r++)l[n.data[r][0]]=n.data[r][1];if(n.data=null,!l.userId)return!1;n.compat.addEvent(e,"message",A),s={subject:"initialisation",content:{id:l.userId,origin:{domain:t.location.hostname,protocol:t.location.protocol,url_call:t.location.origin}}},null!==(a=i("#FACIL_ITI-proxy"))&&a.parentElement.removeChild(a),(a=t.createElement("iframe")).style.display="none",c(a,{id:"FACIL_ITI-proxy",src:p()+"/tag/proxy/?id="+l.userId+"&d="+btoa(encodeURIComponent(s.content.origin.domain)),title:"Solution dâ€™accessibilitÃ© FACILâ€™iti",role:"presentation","aria-hidden":"true",width:"10",height:"10"}),a.onload=function(){o=a.contentWindow||a,S(s)},u.body.appendChild(a)};"complete"===t.readyState?r():n.compat.addEvent(e,"load",r)}function L(e,t){this[e]=this[e]||t}try{n.compat.check()&&(n.page=u,n.reload=O,n.params=l,n.customParams={},n.reset={extend:L},n.utilities={extend:L},n.modules={extend:L},O())}catch(e){}}(window,document,FACIL_ITI);